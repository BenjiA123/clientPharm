<h5>TRANSACTIONS CHART</h5>

<form (submit)="sendDates(dateForm)" #dateForm="ngForm">
  <mat-form-field
    *ngFor="let field of dateInputFields"
    class="create_detail_card_left_input_field"
    appearance="outline"
  >
    <input
      matInput
      ngModel
      required
      name="{{ field.name }}"
      placeholder="{{ field.placeholder }}"
      type="{{ field.type }}"
    />
  </mat-form-field>

  <button type="submit" class="btn btn--crimson">Get</button>
</form>

<!-- COMMING SOON -->
<form (submit)="addDrugGraph(drugDataForm)" #drugDataForm="ngForm">
  <mat-form-field>
    <input
      placeholder="Add Drug"
      type="text"
      matInput
      required
      ngModel
      name="drugId"
      [matAutocomplete]="auto"
      (focus)="searchField('')"
    />

    <mat-autocomplete #auto="matAutocomplete">
      <mat-option
        *ngFor="let option of drugsAutoComplete; let i = index"
        [value]="option.genericName"
        (click)="selectedDrugs(option._id, option.genericName)"
      >
        <!-- This has to work like this for now until I add the array stuff -->
        <!-- Can I use a click event to append -->
        <!-- <input
          type="hidden"
          name="drugId"
          [ngModel]="drugsAutoComplete[i]._id"
        /> -->

        {{ option.genericName }}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>

  <button type="submit" class="btn btn--crimson">Add Drugs</button>
</form>
<br /><br />
<div class="selectedDrugs" *ngFor="let drug of selectedDrugsArray">
  {{ drug.genericName | shorten }}
  <button class="unSelect" (click)="unSelectDrug(drug.drugId)">X</button>
</div>

<div class="graph_container">
  <canvas #lineCanvas style="height: 12vh; width: 20vw"></canvas>
  <hr color="crimson" />
  <br />
</div>
